  <div class="container">
    <h1>Search Results for "{{ searchTerm }}"</h1>
    <div *ngIf="!searchResults">Searching...</div>
    <ng-container *ngIf="searchResults">
      <section *ngIf="entityType === 'users' && searchResults?.length">
        <h2>Users</h2>
        <div class="card-list">
          <div *ngFor="let user of searchResults" class="card" [class.admin]="isAdmin">
            <div class="card-body">
              <p class="card-title">{{ user.username }}</p>
              <p class="card-subtitle">{{ user.name }} {{ user.surname }}</p>
              <p class="card-text">{{ user.emailAddress }}</p>
              <p class="card-text">Age: {{ user.age }}</p>
              <p class="card-text">
                Role: 
                <span *ngIf="user.roleId === 1">Doctor</span>
                <span *ngIf="user.roleId === 2">Patient</span>
                <span *ngIf="user.roleId === 3">Admin</span>
              </p>
              <div *ngIf="isAdmin" class="admin-details">
                <p *ngIf="isDoctor || isAdmin" class="card-text">CNP: {{ user.cnp }}</p>
                <p class="card-text">Address: {{ user.address }}</p>
                <p class="card-text">Phone: {{ user.phoneNumber }}</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section *ngIf="entityType === 'appointments' && searchResults.length">
        <h2>Appointments</h2>
        <div class="card-list">
          <div *ngFor="let appointment of searchResults" class="card">
            <div class="card-body">
              <p class="card-title">Appointment ID: {{ appointment.appointmentId }}</p>
              <p class="card-text">Patient ID: {{ appointment.patientId }}</p>
              <p class="card-text">Doctor ID: {{ appointment.doctorId }}</p>
              <p class="card-text">Date: {{ appointment.dateTime | date:'medium' }}</p>
              <p class="card-text">Reason: {{ appointment.reason }}</p>
            </div>
          </div>
        </div>
      </section>

      <section *ngIf="entityType === 'billings' && searchResults?.length">
        <h2>Billings</h2>
        <div class="card-list">
          <div *ngFor="let billing of searchResults.Billings" class="card">
            <div class="card-body">
              <p class="card-title">Amount: {{ billing.amount }}</p>
              <p class="card-text">Issued: {{ billing.dateIssued | date:'mediumDate' }}</p>
              <p class="card-text">Status: {{ billing.paymentStatus }}</p>
            </div>
          </div>
        </div>
      </section>

      <section *ngIf="entityType === 'patientRecords' && searchResults?.length">
        <h2>Patient Records</h2>
        <div class="card-list">
          <div *ngFor="let patientRecord of searchResults.PatientRecords" class="card">
            <div class="card-body">
              <p class="card-title">Patient ID: {{ patientRecord.patientId }}</p>
              <p class="card-text">Record Date: {{ patientRecord.recordDate | date:'mediumDate' }}</p>
              <p class="card-text">Diagnosis: {{ patientRecord.diagnosis }}</p>
              <p class="card-text">Treatment: {{ patientRecord.treatment }}</p>
              <p class="card-text">Notes: {{ patientRecord.notes }}</p>
            </div>
          </div>
        </div>
      </section>

      <section *ngIf="entityType === 'roles' && searchResults?.length">
        <h2>Roles</h2>
        <div class="card-list">
          <div *ngFor="let role of searchResults.Roles" class="card">
            <div class="card-body">
              <p class="card-title">Role ID: {{ role.roleId }}</p>
              <p class="card-text">Role Name: {{ role.name }}</p>
            </div>
          </div>
        </div>
      </section>

      <section *ngIf="entityType === 'treatments' && searchResults?.length">
        <h2>Treatments</h2>
        <div class="card-list">
          <div *ngFor="let treatment of searchResults.Treatments" class="card">
            <div class="card-body">
              <p class="card-title">Treatment ID: {{ treatment.treatmentId }}</p>
              <p class="card-text">Description: {{ treatment.description }}</p>
            </div>
          </div>
        </div>
      </section>
    </ng-container>
  </div>